function quote(a){if(document.selection)document.post.com.focus(),document.selection.createRange().text=">>"+a+"\n";else if(document.post.com.selectionStart||"0"==document.post.com.selectionStart){var c=document.post.com.selectionEnd;document.post.com.value=document.post.com.value.substring(0,document.post.com.selectionStart)+">>"+a+"\n"+document.post.com.value.substring(c,document.post.com.value.length)}else document.post.com.value+=">>"+a+"\n"}
function repquote(a){""==document.post.com.value&&quote(a)}function reppop(a){var c=(new Date).getTime();window.open(a,c,"toolbar=0,scrollbars=0,location=0,status=1,menubar=0,resizable=1,width=610,height=170");return!1}
function onParsingDone(a){var c,b,d,e;b=a.detail.threadId;if(c=a.detail.offset){b=document.getElementById("t"+b).getElementsByClassName("nameBlock");a=a.detail.limit?2*a.detail.limit:b.length;for(c=2*c+1;c<a;c+=2)if(d=b[c].children[1])currentHighlighted&&-1!=d.className.indexOf("id_"+currentHighlighted)&&(e=d.parentNode.parentNode.parentNode,e.className="highlight "+e.className),d.addEventListener("click",idClick,!1)}}
function toggleMobilePostForm(a,c){elem=document.getElementById("mpostform");postForm=document.getElementById("postForm");elem.className.match("hidden")?(elem.className=elem.className.replace("hidden","shown"),postForm.className=postForm.className.replace(" hideMobile",""),elem.innerHTML="Close Post Form"):(elem.className=elem.className.replace("shown","hidden"),postForm.className+=" hideMobile",elem.innerHTML=a?"Start a Thread":"Reply to Thread");c&&window.scroll(0,0)}
function toggleGlobalMessage(){elem=document.getElementById("globalToggle");postForm=document.getElementById("globalMessage");elem.className.match("hidden")?(elem.className=elem.className.replace("hidden","shown"),postForm.className=postForm.className.replace(" hideMobile",""),elem.innerHTML="Close Announcement"):(elem.className=elem.className.replace("shown","hidden"),postForm.className+=" hideMobile",elem.innerHTML="View Important Announcement")}
function coreCheckComLength(){var a,c,b;if(comlen)if(c=document.getElementsByName("com")[0],a=encodeURIComponent(c.value).split(/%..|./).length-1,a>comlen){if(!(b=document.getElementById("comlenError")))b=document.createElement("div"),b.id="comlenError",b.style.cssText="font-weight:bold;padding:5px;color:red;",c.parentNode.appendChild(b);b.textContent="Comment too long ("+a+"/"+comlen+")"}else(b=document.getElementById("comlenError"))&&b.parentNode.removeChild(b)}
function contentLoaded(){var a,c,b,d=location.pathname.split(/\//)[1];try{document.getElementsByClassName("recaptcha_image_cell")[0].setAttribute("style","padding: 0px!important; padding-bottom: 3px!important;")}catch(e){}if(a=document.getElementsByName("com")[0])a.addEventListener("keydown",onComKeyDown,!1),a.addEventListener("paste",onComKeyDown,!1),a.addEventListener("cut",onComKeyDown,!1);if(a=document.getElementById("recaptcha_image"))a.style.cursor="pointer",a.title="Reload",a.addEventListener("click",onCaptchaClick,!1);if("true"==localStorage.getItem("4chan_never_show_mobile")){if(a=document.getElementById("disable-mobile"))a.style.display="none",a=document.getElementById("enable-mobile"),a.parentNode.style.cssText="display: inline !important;"}else{b=document.getElementById("boardSelectMobile");c=b.options.length;for(a=0;a<c;a++)b.options[a].value==d&&(b.selectedIndex=a);b.onchange=function(){window.location="//boards.4chan.org/"+this.options[this.selectedIndex].value+"/"}}check_for_block&&checkForBlock();clickable_ids&&enableClickableIds();1==readCookie("pass_enabled")&&removeCaptcha();2<=window.devicePixelRatio&&setRetinaIcons();!readCookie("pass_enabled")&&!readCookie("extra_path")&&enableTabOverCaptcha()}function enableTabOverCaptcha(){for(var a=document.querySelectorAll("textarea[name=com]"),c=a.length,b=0,b=0;b<c;b++)a[b].addEventListener?a[b].addEventListener("keydown",tabToCaptcha,!1):a[b].attachEvent&&a[b].attachEvent("onkeydown",tabToCaptcha)}
function plea(){for(var a=0,a=0;a<adHolderLen;a++)adHolder[a].getAttribute("src").match("728")||(adHolder[a].parentNode.parentNode.innerHTML=blockPlea)}var currentHighlighted=null;function enableClickableIds(){var a=0,c=0,b=document.getElementsByClassName("posteruid"),d=document.getElementsByClassName("capcode");if(null!=d){a=0;for(c=d.length;a<c;a++)d[a].addEventListener("click",idClick,!1)}if(null!=b){a=0;for(c=b.length;a<c;a++)b[a].addEventListener("click",idClick,!1)}}
function idClick(a){var c=0,b=0;a="hand"==a.target.className?a.target.parentNode.className.match(/id_([^ $]+)/)[1]:a.target.className.match(/id_([^ $]+)/)[1];for(var d=document.getElementsByClassName("highlight"),b=d.length,c=0;c<b;c++)d[0].className=d[0].className.toString().replace(/highlight /g,"");if(currentHighlighted==a)currentHighlighted=null;else{currentHighlighted=a;d=document.getElementsByClassName("id_"+a);b=d.length;for(c=0;c<b;c++)a=d[c].parentNode.parentNode.parentNode,a.className.match(/highlight /)||(a.className="highlight "+a.className)}}function handleFileSelect(a){a=a.target.files[0].size;document.getElementById("fileError").innerHTML="";a>maxFilesize&&(document.getElementById("fileError").innerHTML='<span style="font-weight:bold;padding:5px;color:red;">'+file_too_big+"</span>")}
function locationHashChanged(a){var c=document.getElementById("id_css");switch(a.id){case"refresh_top":url=window.location.href.replace(/#.+/,"#top");/top$/.test(url)||(url+="#top");c.innerHTML='<meta http-equiv="refresh" content="0;URL='+url+'">';document.location.reload(!0);break;case"refresh_bottom":url=window.location.href.replace(/#.+/,"#bottom"),/bottom$/.test(url)||(url+="#bottom"),c.innerHTML='<meta http-equiv="refresh" content="0;URL='+url+'">',document.location.reload(!0)}return!0}
function setActiveStyleSheet(a,c){if(1!=document.querySelectorAll("link[title]").length){for(var b,d,e="",f=0;b=document.getElementsByTagName("link")[f];f++)"switch"==b.getAttribute("title")&&(d=b),-1!=b.getAttribute("rel").indexOf("style")&&b.getAttribute("title")&&b.getAttribute("title")==a&&(e=b.href);d.setAttribute("href",e);c||createCookie(style_group,a,365,"4chan.org")}}
function getActiveStyleSheet(){var a,c,b;if(1==document.querySelectorAll("link[title]").length)return"Yotsuba P";for(a=0;c=document.getElementsByTagName("link")[a];a++)if("switch"==c.getAttribute("title"))b=c;else if(-1!=c.getAttribute("rel").indexOf("style")&&c.getAttribute("title")&&c.href==b.href)return c.getAttribute("title");return null}function getPreferredStyleSheet(){return"ws_style"==style_group?"Yotsuba B New":"Yotsuba New"}
function createCookie(a,c,b,d){if(b){var e=new Date;e.setTime(e.getTime()+864E5*b);b="; expires="+e.toGMTString()}else b="";document.cookie=a+"="+c+b+"; path=/"+(d?"; domain="+d:"")}function readCookie(a){a+="=";for(var c=document.cookie.split(";"),b=0;b<c.length;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null}
function setRetinaIcons(){var a,c,b;b=document.getElementsByClassName("retina");for(a=0;c=b[a];++a)c.src=c.src.replace(/\.(gif|png)$/,"@2x.$1")}window.onload=init;clickable_ids&&document.addEventListener("4chanParsingDone",onParsingDone,!1);document.addEventListener("4chanMainInit",loadExtraScripts,!1);document.addEventListener("DOMContentLoaded",contentLoaded,!0);initStyleSheet();